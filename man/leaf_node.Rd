% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/svmodt_leaf_node.R
\name{leaf_node}
\alias{leaf_node}
\title{Create a leaf node for a decision tree}
\usage{
leaf_node(y, n, all_classes = NULL, features = character(0), scaler = NULL)
}
\arguments{
\item{y}{Vector of class labels for the samples in the node.}

\item{n}{Number of samples in the node.}

\item{all_classes}{Optional character vector of all possible classes. If NULL,
classes are inferred from \code{y}.}

\item{features}{Character vector of features used at this node (default empty).}

\item{scaler}{Optional scaler object applied to the features at this node.}
}
\value{
A list representing a leaf node with components:
\itemize{
  \item \code{is_leaf} Logical; \code{TRUE}.
  \item \code{prediction} Predicted class (majority class in the node).
  \item \code{n} Number of samples in the node.
  \item \code{features} Features used at this node.
  \item \code{scaler} Optional scaler applied to the node features.
  \item \code{class_prob} Named numeric vector of class probabilities (sums to 1).
}
}
\description{
Constructs a leaf node object containing class probabilities, predicted class,
and metadata.
}
\details{
- If some classes are missing in \code{y}, probabilities for those classes are set to 0.
- If all probabilities are 0 or NA, a uniform probability distribution is used.
- Probabilities are normalized to sum to 1.
}
\keyword{internal}
